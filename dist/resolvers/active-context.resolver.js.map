{"version":3,"sources":["resolvers/active-context.resolver.ts"],"names":[],"mappings":";;;;;;;;;;AAEA,qBAA2B,eAAe,CAAC,CAAA;AAC3C,uBAAwD,iBAAiB,CAAC,CAAA;AAI1E,qBAA8B,WAAW,CAAC,CAAA;AAG1C;IACC,+BAAuB,MAAa;QAAb,WAAM,GAAN,MAAM,CAAO;IAAI,CAAC;IAEzC,uCAAO,GAAP,UAAS,KAA4B;QAArC,iBAYC;QAXA,MAAM,CAAC,oBAAa,CAAC,OAAO,CAAC,IAAI,CAAE;YAClC,MAAM,CAAC,oBAAa,EAAE,CAAC;QACxB,CAAC,CAAE,CAAC,KAAK,CAAE,UAAE,KAAK;YACjB,EAAE,CAAA,CAAE,OAAO,KAAK,CAAC,IAAI,KAAK,QAAQ,IAAI,KAAK,CAAC,IAAI,KAAK,IAAI,IAAI,OAAO,KAAK,CAAC,IAAI,CAAE,SAAS,CAAE,KAAK,WAAY,CAAC,CAAC,CAAC;gBAC9G,KAAI,CAAC,MAAM,CAAC,QAAQ,CAAE,KAAK,CAAC,IAAI,CAAE,SAAS,CAAE,CAAE,CAAC;YACjD,CAAC;YAAC,IAAI,CAAC,CAAC;gBACP,OAAO,CAAC,KAAK,CAAE,oFAAoF,CAAE,CAAC;YACvG,CAAC;YAED,MAAM,CAAC,KAAK,CAAC;QACd,CAAC,CAAE,CAAC;IACL,CAAC;IAhBF;QAAC,iBAAU,EAAE;;6BAAA;IAiBb,4BAAC;AAAD,CAhBA,AAgBC,IAAA;AAhBY,6BAAqB,wBAgBjC,CAAA","file":"active-context.resolver.js","sourcesContent":["import { Observable } from \"rxjs\";\n\nimport { Injectable } from \"@angular/core\";\nimport { Router, Resolve, ActivatedRouteSnapshot } from \"@angular/router\";\n\nimport Context from \"carbonldp/Context\";\n\nimport { activeContext } from \"./../boot\";\n\n@Injectable()\nexport class ActiveContextResolver implements Resolve<Context> {\n\tconstructor( protected router:Router ) {}\n\n\tresolve( route:ActivatedRouteSnapshot ):Observable<Context> | Promise<Context> | Context {\n\t\treturn activeContext.promise.then( () => {\n\t\t\treturn activeContext();\n\t\t} ).catch( ( error ) => {\n\t\t\tif( typeof route.data === \"object\" && route.data !== null && typeof route.data[ \"onError\" ] !== \"undefined\" ) {\n\t\t\t\tthis.router.navigate( route.data[ \"onError\" ] );\n\t\t\t} else {\n\t\t\t\tconsole.error( \"ActiveContextResolver was configured in a route without an 'data.onError' property\" );\n\t\t\t}\n\n\t\t\treturn false;\n\t\t} );\n\t}\n}\n"]}