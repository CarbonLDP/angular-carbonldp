{"version":3,"sources":["guards/requires-active-context.guard.ts"],"names":[],"mappings":";;;;;;;;;;AAEA,qBAA2B,eAAe,CAAC,CAAA;AAC3C,uBAAiF,iBAAiB,CAAC,CAAA;AAEnG,qBAA8B,WAAW,CAAC,CAAA;AAG1C;IACC,oCAAuB,MAAa;QAAb,WAAM,GAAN,MAAM,CAAO;IAAI,CAAC;IAEzC,gDAAW,GAAX,UAAa,KAA4B,EAAE,KAAyB;QAApE,iBAYC;QAXA,MAAM,CAAC,oBAAa,CAAC,OAAO,CAAC,IAAI,CAAE;YAClC,MAAM,CAAC,IAAI,CAAC;QACb,CAAC,CAAE,CAAC,KAAK,CAAE,UAAE,KAAK;YACjB,EAAE,CAAA,CAAE,OAAO,KAAK,CAAC,IAAI,KAAK,QAAQ,IAAI,KAAK,CAAC,IAAI,KAAK,IAAI,IAAI,OAAO,KAAK,CAAC,IAAI,CAAE,UAAU,CAAE,KAAK,WAAY,CAAC,CAAC,CAAC;gBAC/G,KAAI,CAAC,MAAM,CAAC,QAAQ,CAAE,KAAK,CAAC,IAAI,CAAE,UAAU,CAAE,CAAE,CAAC;YAClD,CAAC;YAAC,IAAI,CAAC,CAAC;gBACP,OAAO,CAAC,KAAK,CAAE,qFAAqF,CAAE,CAAC;YACxG,CAAC;YAED,MAAM,CAAC,KAAK,CAAC;QACd,CAAC,CAAE,CAAC;IACL,CAAC;IAhBF;QAAC,iBAAU,EAAE;;kCAAA;IAiBb,iCAAC;AAAD,CAhBA,AAgBC,IAAA;AAhBY,kCAA0B,6BAgBtC,CAAA","file":"guards/requires-active-context.guard.js","sourcesContent":["import { Observable } from \"rxjs\";\n\nimport { Injectable } from \"@angular/core\";\nimport { CanActivate, Router, ActivatedRouteSnapshot, RouterStateSnapshot } from \"@angular/router\";\n\nimport { activeContext } from \"./../boot\";\n\n@Injectable()\nexport class RequiresActiveContextGuard implements CanActivate {\n\tconstructor( protected router:Router ) {}\n\n\tcanActivate( route:ActivatedRouteSnapshot, state:RouterStateSnapshot ):Observable<boolean> | Promise<boolean> | boolean {\n\t\treturn activeContext.promise.then( () => {\n\t\t\treturn true;\n\t\t} ).catch( ( error ) => {\n\t\t\tif( typeof route.data === \"object\" && route.data !== null && typeof route.data[ \"onReject\" ] !== \"undefined\" ) {\n\t\t\t\tthis.router.navigate( route.data[ \"onReject\" ] );\n\t\t\t} else {\n\t\t\t\tconsole.error( \"RequiresActiveContextGuard was configured in a route without an 'onReject' property\" );\n\t\t\t}\n\n\t\t\treturn false;\n\t\t} );\n\t}\n}\n"],"sourceRoot":"/source/"}