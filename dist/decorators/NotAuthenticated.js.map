{"version":3,"sources":["decorators/NotAuthenticated.ts"],"names":[],"mappings":";;;;;;AAAA,uBAA2C,iBAAiB,CAAC,CAAA;AAE7D,qBAAqB,WAAW,CAAC,CAAA;AACjC,yBAA0B,eAAe,CAAC,CAAA;AAC1C,2CAAyC,8BAA8B,CAAC,CAAA;AACxE,iCAAgD,oBAAoB,CAAC,CAAA;AAGrE;IAAyC,8CAA0B;IAClE,oCAAa,OAA6B;QACzC,iBAAO,CAAC;QACR,IAAI,CAAC,QAAQ,GAAG,UAAU,IAAyB,EAAE,QAA6B;YACjF,IAAI,WAAW,GAAqB,aAAM,CAAE,sBAAW,CAAC,KAAK,CAAE,CAAC;YAChE,IAAI,MAAM,GAAU,aAAM,CAAE,eAAM,CAAE,CAAC;YAErC,IAAI,eAAe,GAAW,WAAW,CAAC,eAAe,EAAE,CAAC;YAC5D,EAAE,CAAA,CAAE,eAAe,IAAI,QAAQ,KAAK,IAAK,CAAC;gBAAC,MAAM,CAAC,QAAQ,CAAE,OAAO,CAAC,UAAU,CAAE,CAAC;YAEjF,MAAM,CAAC,CAAE,eAAe,CAAC;QAC1B,CAAC,CAAC;IACH,CAAC;IACF,iCAAC;AAAD,CAbA,AAaC,CAbwC,uDAA0B,GAalE;AAEU,wBAAgB,GAAwD,oDAAiC,CAAE,0BAA0B,CAAE,CAAC","file":"decorators/NotAuthenticated.js","sourcesContent":["import {Router, ComponentInstruction} from \"angular2/router\";\n\nimport {inject} from \"./../boot\";\nimport {AuthService} from \"./../services\";\nimport {AbstractSecurityAnnotation} from \"./AbstractSecurityAnnotation\";\nimport {makeCanActivateChainableDecorator} from \"./CanActivateUtils\";\n\n\nclass NotAuthenticatedAnnotation extends AbstractSecurityAnnotation {\n\tconstructor( options:{ redirectTo: any[] } ) {\n\t\tsuper();\n\t\tthis.evaluate = function( next:ComponentInstruction, previous:ComponentInstruction ):Promise<boolean> | boolean {\n\t\t\tlet authService:AuthService.Class = inject( AuthService.Token );\n\t\t\tlet router:Router = inject( Router );\n\n\t\t\tlet isAuthenticated:boolean = authService.isAuthenticated();\n\t\t\tif( isAuthenticated && previous === null ) router.navigate( options.redirectTo );\n\n\t\t\treturn ! isAuthenticated;\n\t\t};\n\t}\n}\n\nexport let NotAuthenticated: ( options:{ redirectTo: any[] } ) => ClassDecorator = makeCanActivateChainableDecorator( NotAuthenticatedAnnotation );\n"],"sourceRoot":"/source/"}