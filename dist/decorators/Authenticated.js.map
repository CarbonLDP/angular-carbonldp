{"version":3,"sources":["decorators/Authenticated.ts"],"names":[],"mappings":";;;;;;AAAA,kCAA2C,4BAA4B,CAAC,CAAA;AAExE,qBAAqB,WAAW,CAAC,CAAA;AACjC,yBAA0B,eAAe,CAAC,CAAA;AAC1C,2CAAyC,8BAA8B,CAAC,CAAA;AACxE,iCAAgD,oBAAoB,CAAC,CAAA;AAErE;IAAsC,2CAA0B;IAC/D,iCAAa,OAA6B;QACzC,iBAAO,CAAC;QACR,IAAI,CAAC,QAAQ,GAAG,UAAU,IAAyB,EAAE,QAA6B;YACjF,IAAI,WAAW,GAAqB,aAAM,CAAE,sBAAW,CAAC,KAAK,CAAE,CAAC;YAChE,IAAI,MAAM,GAAU,aAAM,CAAE,0BAAM,CAAE,CAAC;YAErC,IAAI,eAAe,GAAW,WAAW,CAAC,eAAe,EAAE,CAAC;YAC5D,EAAE,CAAA,CAAE,CAAE,eAAe,IAAI,QAAQ,KAAK,IAAK,CAAC;gBAAC,MAAM,CAAC,QAAQ,CAAE,OAAO,CAAC,UAAU,CAAE,CAAC;YAEnF,MAAM,CAAC,eAAe,CAAC;QACxB,CAAC,CAAC;IACH,CAAC;IACF,8BAAC;AAAD,CAbA,AAaC,CAbqC,uDAA0B,GAa/D;AAEU,qBAAa,GAAwD,oDAAiC,CAAE,uBAAuB,CAAE,CAAC","file":"decorators/Authenticated.js","sourcesContent":["import {Router, ComponentInstruction} from \"@angular/router-deprecated\";\n\nimport {inject} from \"./../boot\";\nimport {AuthService} from \"./../services\";\nimport {AbstractSecurityAnnotation} from \"./AbstractSecurityAnnotation\";\nimport {makeCanActivateChainableDecorator} from \"./CanActivateUtils\";\n\nclass AuthenticatedAnnotation extends AbstractSecurityAnnotation {\n\tconstructor( options:{ redirectTo: any[] } ) {\n\t\tsuper();\n\t\tthis.evaluate = function( next:ComponentInstruction, previous:ComponentInstruction ):Promise<boolean> | boolean {\n\t\t\tlet authService:AuthService.Class = inject( AuthService.Token );\n\t\t\tlet router:Router = inject( Router );\n\n\t\t\tlet isAuthenticated:boolean = authService.isAuthenticated();\n\t\t\tif( ! isAuthenticated && previous === null ) router.navigate( options.redirectTo );\n\n\t\t\treturn isAuthenticated;\n\t\t};\n\t}\n}\n\nexport let Authenticated: ( options:{ redirectTo: any[] } ) => ClassDecorator = makeCanActivateChainableDecorator( AuthenticatedAnnotation );\n"],"sourceRoot":"/source/"}